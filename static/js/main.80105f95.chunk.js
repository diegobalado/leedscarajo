(this.webpackJsonpleedscarajo=this.webpackJsonpleedscarajo||[]).push([[0],{116:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),l=(a(91),a(21)),u=a(9),i=(a(116),a(7)),m=a(8),s=a(165),d=a(171),f=a(31),E=a.n(f),p=a(63),O=a(32),h=a.n(O),b=h()(new Date,"yyyy-MM-dd"),j={STANDINGS:"competitions/".concat("PL","/standings"),FIXTURE:"competitions/".concat("PL","/matches?dateFrom=").concat(b,"&dateTo=").concat("2020-07-22"),TEAMS:"competitions/".concat("PL","/teams")},S={method:"GET",headers:{"x-auth-token":Object({NODE_ENV:"production",PUBLIC_URL:"/leedscarajo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_FOOTBALL_TOKEN}},v=function(e,t){var a=new Date,n=new Date;n.setDate(a.getDate()+1);var r={data:t,expires:n};localStorage.setItem(e,JSON.stringify(r))},y=function(){Object.keys(j).map((function(e){return v("ls-".concat(e),"")}))},T=function(e){return"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/leedscarajo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_FOOTBALL_URL,"/").concat(j[e])},w=Object(u.atom)({key:"STANDINGS",default:null}),g=Object(u.atom)({key:"FIXTURE",default:null}),I=Object(u.atom)({key:"TEAMS",default:null}),D=Object(u.atom)({key:"fetchingStandings",default:!1}),_=Object(u.atom)({key:"fetchingFixture",default:!1}),A=Object(u.atom)({key:"fetchingTeams",default:!1}),N=function(e){return{STANDINGS:w,FIXTURE:g,TEAMS:I,FETCHING_STANDINGS:D,FETCHING_FIXTURE:_,FETCHING_TEAMS:A}[e]},C=function(e,t){var a=Object(u.useRecoilState)(N(e)),r=Object(m.a)(a,2),c=r[0],o=r[1],l="ls-".concat(e),i=function(e){var t=localStorage.getItem(e);if(!t)return null;var a=JSON.parse(t),n=a.data,r=a.expires,c=new Date;return{data:n,isExpired:new Date(r)<c}}(l),s=i&&i.data,d=i&&i.isExpired,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},r=Object(u.useRecoilValue)(N(e)),c=Object(n.useState)(null),o=Object(m.a)(c,2),l=o[0],i=o[1],s=Object(n.useState)(null),d=Object(m.a)(s,2),f=d[0],O=d[1],h=Object(n.useState)(!1),b=Object(m.a)(h,2),j=b[0],v=b[1],y=Object(u.useRecoilState)(N("FETCHING_".concat(e))),w=Object(m.a)(y,2),g=w[0],I=w[1],D=r||t;return Object(n.useEffect)((function(){g||(D?(i(D),v(!1),O(!1)):(I(!0),function(){var t=Object(p.a)(E.a.mark((function t(){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.prev=1,t.next=4,fetch(T(e),S);case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,i(a(r)),v(!1),I(!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),O(t.t0),I(!1);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}()()))}),[r]),{data:l,error:f,loading:j}}(e,s,t),O=f.loading,h=f.data,b=f.error;return b&&console.log("error:",b),Object(n.useEffect)((function(){!O&&h&&(!s&&!d&&v(l,h),!c&&o(h))}),[h,O,c]),{data:h,error:b,loading:O}},k=function(e){return e&&e.standings[0].table},R=function(e){return e&&e.matches},x=function(e){return e&&e.teams},F=function(){var e=C("STANDINGS",k).data,t=Object(n.useState)({property:"points",direction:"desc"}),a=Object(m.a)(t,2),c=a[0],o=a[1];return e?r.a.createElement(s.a,{primaryKey:"index",sort:c,onSort:o,columns:[{property:"team.name",header:r.a.createElement(d.a,null,"Team"),sortable:!1},{property:"playedGames",header:r.a.createElement(d.a,null,"G")},{property:"won",header:r.a.createElement(d.a,null,"W")},{property:"draw",header:r.a.createElement(d.a,null,"D")},{property:"lost",header:r.a.createElement(d.a,null,"L")},{property:"goalDifference",header:r.a.createElement(d.a,null,"GD")},{property:"points",header:r.a.createElement(d.a,null,"P")}],data:e}):r.a.createElement("div",null,"Loading...")},G=a(166),P=a(78),L=a(83),H=a(170),M=a(36),U=a(172),K=a(168),W=a(1);function B(){var e=Object(P.a)(["\n  max-width: 300px;\n"]);return B=function(){return e},e}var X=function(e,t,a){var n=Object(L.a)({},e);return n.playedGames=parseInt(n.playedGames)+1,n.goalsFor=parseInt(n.goalsFor)+parseInt(t),n.goalsAgainst=parseInt(n.goalsAgainst)+parseInt(a),n.goalDifference=parseInt(n.goalDifference)+parseInt(t)-parseInt(a),t>a?(n.won=parseInt(n.won)+1,n.points=parseInt(n.points)+3):t<a?n.lost=parseInt(n.lost)+1:(n.draw=parseInt(n.draw)+1,n.points=parseInt(n.points)+1),n},J=function(e,t,a,n,r,c,o,l){var u=function(e,t,a,n,r){var c=r.filter((function(t){return t.team.name===e}))[0],o=r.filter((function(e){return e.team.name===a}))[0],l=X(c,t,n),u=X(o,n,t);return r.map((function(t){return t.team.name===e?l:t.team.name===a?u:t}))}(e,t,a,n,r),i=function(e,t,a){return a.filter((function(a){return a.homeTeam.name!==e||a.awayTeam.name!==t}))}(e,a,o);c(u),l(i)},z=W.default.div(B()),V=function(e){var t=e.setShow,a=e.home,c=e.away,o=C("STANDINGS",k).data,l=Object(u.useRecoilState)(N("STANDINGS")),i=Object(m.a)(l,2),s=i[0],d=i[1],f=Object(u.useRecoilState)(N("FIXTURE")),E=Object(m.a)(f,2),p=E[0],O=E[1],h=Object(n.useState)(0),b=Object(m.a)(h,2),j=b[0],S=b[1],v=Object(n.useState)(0),y=Object(m.a)(v,2),T=y[0],w=y[1];return Object(n.useEffect)((function(){o&&d(o)}),[o]),r.a.createElement(H.a,{onEsc:function(){return t(!1)},onClickOutside:function(){return t(!1)}},r.a.createElement(M.a,{pad:"large"},r.a.createElement(M.a,{pad:"medium"},"".concat(a," - ").concat(c)),r.a.createElement(M.a,{width:"medium"},r.a.createElement(M.a,null,r.a.createElement(M.a,{direction:"row",justify:"between",pad:"medium"},r.a.createElement(M.a,{width:"medium"},a),r.a.createElement(z,null,r.a.createElement(U.a,{value:j,onChange:function(e){return S(e.target.value)},min:0,max:5}))),r.a.createElement(M.a,{direction:"row",justify:"between",pad:"medium"},r.a.createElement(M.a,{width:"medium"},c),r.a.createElement(z,null,r.a.createElement(U.a,{value:T,onChange:function(e){return w(e.target.value)},min:0,max:5})))),r.a.createElement(M.a,{pad:"small"},"".concat(a," ").concat(j," - ").concat(T," ").concat(c))),r.a.createElement(M.a,{direction:"row",justify:"between",pad:"medium"},r.a.createElement(K.a,{label:"Ok",size:"medium",primary:!0,onClick:function(){J(a,j,c,T,s,d,p,O),t(!1)}}),r.a.createElement(K.a,{label:"Cancel",size:"medium",onClick:function(){return t(!1)}}))))},$=function(e){return e&&e.map((function(e){var t=h()(new Date(e.utcDate),"EEEE, d MMMM - H:mm");return{home:e.homeTeam.name,away:e.awayTeam.name,date:t}}))},q=function(e){return e.map((function(e){return e.name})).sort()},Q=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),l=Object(m.a)(o,2),u=l[0],i=l[1],f=Object(n.useState)(null),E=Object(m.a)(f,2),p=E[0],O=E[1],h=Object(n.useState)($(null)),b=Object(m.a)(h,2),j=b[0],S=b[1],v=Object(n.useState)(null),y=Object(m.a)(v,2),T=y[0],w=y[1],g=Object(n.useState)(!1),I=Object(m.a)(g,2),D=I[0],_=I[1],A=C("FIXTURE",R).data,N=C("TEAMS",x).data;return Object(n.useEffect)((function(){A&&S($(A))}),[A]),Object(n.useEffect)((function(){j&&a&&S(function(e,t){return e.filter((function(e){var a=e.home,n=e.away;return a===t||n===t}))}($(A),a))}),[a]),Object(n.useEffect)((function(){N&&w(q(N))}),[N]),j&&N&&T?r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{options:T,value:a,onChange:function(e){var t=e.option;return c(t)},onSearch:function(e){var t=e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&"),a=new RegExp(t,"i");w(q(N).filter((function(e){return a.test(e)})))}}),r.a.createElement(s.a,{primaryKey:"index",columns:[{property:"home",header:r.a.createElement(d.a,null,"Home"),search:!0},{property:"away",header:r.a.createElement(d.a,null,"Away"),search:!0},{property:"date",header:r.a.createElement(d.a,null,"Date")}],data:j,onClickRow:function(e){var t=e.datum;i(t.home),O(t.away),_(!0)}}),D&&r.a.createElement(V,{setShow:_,home:u,away:p})):r.a.createElement("div",null,"Loading...")},Y=function(){return r.a.createElement("div",null,"Home")},Z=function(){return r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"".concat("/leedscarajo","/home")},r.a.createElement(Y,null)),r.a.createElement(i.a,{path:"".concat("/leedscarajo","/positions")},r.a.createElement(F,null)),r.a.createElement(i.a,{path:"".concat("/leedscarajo","/fixture")},r.a.createElement(Q,null)),r.a.createElement(i.a,{path:"".concat("/leedscarajo","/bettings")},r.a.createElement(V,null)))},ee=a(163),te=a(164),ae=function(){return r.a.createElement(ee.a,{pad:"medium"},r.a.createElement(te.a,{direction:"row"},r.a.createElement(l.b,{to:"".concat("/leedscarajo","/home")},"Home"),r.a.createElement(l.b,{to:"".concat("/leedscarajo","/positions")},"Positions"),r.a.createElement(l.b,{to:"".concat("/leedscarajo","/fixture")},"Fixture"),r.a.createElement(K.a,{onClick:y,label:"Refresh",size:"small"})))},ne=a(79),re=a(80),ce=a(82),oe=a(81),le=function(e){Object(ce.a)(a,e);var t=Object(oe.a)(a);function a(e){var n;return Object(ne.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(re.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Oops!"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(r.a.Component);var ue=function(){return r.a.createElement(le,null,r.a.createElement("div",{className:"App"},r.a.createElement(u.RecoilRoot,null,r.a.createElement(l.a,null,r.a.createElement(ae,null),r.a.createElement(Z,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,t,a){e.exports=a(149)},91:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.80105f95.chunk.js.map