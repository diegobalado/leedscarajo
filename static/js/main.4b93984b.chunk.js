(this.webpackJsonpleedscarajo=this.webpackJsonpleedscarajo||[]).push([[0],{106:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),l=(a(81),a(17)),u=a(8),i=(a(106),a(6)),m=a(7),s=a(132),d=a(138),f=a(25),p=a.n(f),E=a(53),h=a(28),b=Object(h.a)(new Date,"yyyy-MM-dd"),j={STANDINGS:"competitions/".concat("2016","/standings"),FIXTURE:"competitions/".concat("2016","/matches?dateFrom=").concat(b,"&dateTo=").concat("2020-07-22"),TEAMS:"competitions/".concat("2016","/teams")},O={method:"GET",headers:{"x-auth-token":"3f6c1f8c43724bef824da7eaa66d847a"}},v=function(e,t){var a=new Date,n=new Date;n.setDate(a.getDate()+1);var r={data:t,expires:n};localStorage.setItem(e,JSON.stringify(r))},y=function(){Object.keys(j).map((function(e){return v("ls-".concat(e),"")}))},g=function(e){return"".concat("https://api.football-data.org/v2","/").concat(j[e])},w=Object(u.atom)({key:"STANDINGS",default:null}),S=Object(u.atom)({key:"FIXTURE",default:null}),I=Object(u.atom)({key:"TEAMS",default:null}),T=Object(u.atom)({key:"fetchingStandings",default:!1}),D=Object(u.atom)({key:"fetchingFixture",default:!1}),k=Object(u.atom)({key:"fetchingTeams",default:!1}),x=function(e){return{STANDINGS:w,FIXTURE:S,TEAMS:I,FETCHING_STANDINGS:T,FETCHING_FIXTURE:D,FETCHING_TEAMS:k}[e]},N=function(e,t){var a=Object(u.useRecoilState)(x(e)),r=Object(m.a)(a,2),c=r[0],o=r[1],l="ls-".concat(e),i=function(e){var t=localStorage.getItem(e);if(!t)return null;var a=JSON.parse(t),n=a.data,r=a.expires,c=new Date;return{data:n,isExpired:new Date(r)<c}}(l),s=i&&i.data,d=i&&i.isExpired,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(){var r=Object(u.useRecoilValue)(x(e)),c=Object(n.useState)(null),o=Object(m.a)(c,2),l=o[0],i=o[1],s=Object(n.useState)(null),d=Object(m.a)(s,2),f=d[0],h=d[1],b=Object(n.useState)(!1),j=Object(m.a)(b,2),v=j[0],y=j[1],w=Object(u.useRecoilState)(x("FETCHING_".concat(e))),S=Object(m.a)(w,2),I=S[0],T=S[1],D=r||t;return Object(n.useEffect)((function(){I||(D?(i(D),y(!1),h(!1)):(T(!0),function(){var t=Object(E.a)(p.a.mark((function t(){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.prev=1,t.next=4,fetch(g(e),O);case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,i(a(r)),y(!1),T(!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),h(t.t0),T(!1);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}()()))}),[r]),{data:l,error:f,loading:v}}()}(e,s,t),h=f.loading,b=f.data,j=f.error;return j&&console.log("error:",j),Object(n.useEffect)((function(){!h&&b&&(!s&&!d&&v(l,b),!c&&o(b))}),[b,h,c]),{data:b,error:j,loading:h}},F=function(e){return e&&e.standings[0].table},G=function(e){return e&&e.matches},A=function(e){return e&&e.teams},R=function(){var e=N("STANDINGS",F).data,t=Object(n.useState)({property:"points",direction:"desc"}),a=Object(m.a)(t,2),c=a[0],o=a[1];return e?r.a.createElement(s.a,{primaryKey:"index",sort:c,onSort:o,columns:[{property:"position",header:r.a.createElement(d.a,null,"Position")},{property:"team.name",header:r.a.createElement(d.a,null,"Team"),sortable:!1},{property:"playedGames",header:r.a.createElement(d.a,null,"G")},{property:"won",header:r.a.createElement(d.a,null,"W")},{property:"draw",header:r.a.createElement(d.a,null,"D")},{property:"lost",header:r.a.createElement(d.a,null,"L")},{property:"goalDifference",header:r.a.createElement(d.a,null,"GD")},{property:"points",header:r.a.createElement(d.a,null,"P")}],data:e}):r.a.createElement("div",null,"Loading...")},C=a(133),M=a(68),H=a(73),U=a(137),X=a(30),J=a(139),_=a(135),z=a(1);function L(){var e=Object(M.a)(["\n  max-width: 300px;\n"]);return L=function(){return e},e}var P=function(e,t,a){var n=Object(H.a)({},e);return n.playedGames=parseInt(n.playedGames)+1,n.goalsFor=parseInt(n.goalsFor)+parseInt(t),n.goalsAgainst=parseInt(n.goalsAgainst)+parseInt(a),n.goalDifference=parseInt(n.goalDifference)+parseInt(t)-parseInt(a),t>a?(n.won=parseInt(n.won)+1,n.points=parseInt(n.points)+3):t<a?n.lost=parseInt(n.lost)+1:(n.draw=parseInt(n.draw)+1,n.points=parseInt(n.points)+1),n},W=function(e,t,a,n,r,c,o,l){var u=function(e,t,a,n,r){var c=r.filter((function(t){return t.team.name===e}))[0],o=r.filter((function(e){return e.team.name===a}))[0],l=P(c,t,n),u=P(o,n,t);return r.map((function(t){return t.team.name===e?l:t.team.name===a?u:t}))}(e,t,a,n,r),i=function(e,t,a){return a.filter((function(a){return a.homeTeam.name!==e||a.awayTeam.name!==t}))}(e,a,o);c(u),l(i)},$=z.default.div(L()),B=function(e){var t=e.setShow,a=e.home,c=e.away,o=N("STANDINGS",F).data,l=Object(u.useRecoilState)(x("STANDINGS")),i=Object(m.a)(l,2),s=i[0],d=i[1],f=Object(u.useRecoilState)(x("FIXTURE")),p=Object(m.a)(f,2),E=p[0],h=p[1],b=Object(n.useState)(0),j=Object(m.a)(b,2),O=j[0],v=j[1],y=Object(n.useState)(0),g=Object(m.a)(y,2),w=g[0],S=g[1];return Object(n.useEffect)((function(){o&&d(o)}),[o]),r.a.createElement(U.a,{onEsc:function(){return t(!1)},onClickOutside:function(){return t(!1)}},r.a.createElement(X.a,{pad:"large"},r.a.createElement(X.a,{pad:"medium"},"".concat(a," - ").concat(c)),r.a.createElement(X.a,{width:"medium"},r.a.createElement(X.a,null,r.a.createElement(X.a,{direction:"row",justify:"between",pad:"medium"},r.a.createElement(X.a,{width:"medium"},a),r.a.createElement($,null,r.a.createElement(J.a,{value:O,onChange:function(e){return v(e.target.value)},min:0,max:5}))),r.a.createElement(X.a,{direction:"row",justify:"between",pad:"medium"},r.a.createElement(X.a,{width:"medium"},c),r.a.createElement($,null,r.a.createElement(J.a,{value:w,onChange:function(e){return S(e.target.value)},min:0,max:5})))),r.a.createElement(X.a,{pad:"small"},"".concat(a," ").concat(O," - ").concat(w," ").concat(c))),r.a.createElement(X.a,{direction:"row",justify:"between",pad:"medium"},r.a.createElement(_.a,{label:"Ok",size:"medium",primary:!0,onClick:function(){W(a,O,c,w,s,d,E,h),t(!1)}}),r.a.createElement(_.a,{label:"Cancel",size:"medium",onClick:function(){return t(!1)}}))))},K=function(e){return e&&e.map((function(e){var t=Object(h.a)(new Date(e.utcDate),"EEEE, d MMMM - H:mm");return{home:e.homeTeam.name,away:e.awayTeam.name,date:t}}))},V=function(e){return e.map((function(e){return e.name})).sort()},q=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),l=Object(m.a)(o,2),u=l[0],i=l[1],f=Object(n.useState)(null),p=Object(m.a)(f,2),E=p[0],h=p[1],b=Object(n.useState)(K(null)),j=Object(m.a)(b,2),O=j[0],v=j[1],y=Object(n.useState)(null),g=Object(m.a)(y,2),w=g[0],S=g[1],I=Object(n.useState)(!1),T=Object(m.a)(I,2),D=T[0],k=T[1],x=N("FIXTURE",G).data,F=N("TEAMS",A).data;return Object(n.useEffect)((function(){x&&v(K(x))}),[x]),Object(n.useEffect)((function(){O&&a&&v(function(e,t){return e.filter((function(e){var a=e.home,n=e.away;return a===t||n===t}))}(K(x),a))}),[a]),Object(n.useEffect)((function(){F&&S(V(F))}),[F]),O&&F&&w?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{options:w,value:a,onChange:function(e){var t=e.option;return c(t)},onSearch:function(e){var t=e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&"),a=new RegExp(t,"i");S(V(F).filter((function(e){return a.test(e)})))}}),r.a.createElement(s.a,{primaryKey:"index",columns:[{property:"home",header:r.a.createElement(d.a,null,"Home"),search:!0},{property:"away",header:r.a.createElement(d.a,null,"Away"),search:!0},{property:"date",header:r.a.createElement(d.a,null,"Date")}],data:O,onClickRow:function(e){var t=e.datum;i(t.home),h(t.away),k(!0)}}),D&&r.a.createElement(B,{setShow:k,home:u,away:E})):r.a.createElement("div",null,"Loading...")},Q=function(){return r.a.createElement("div",null,"Home")},Y=function(){return r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"".concat("/leedscarajo","/home")},r.a.createElement(Q,null)),r.a.createElement(i.a,{path:"".concat("/leedscarajo","/positions")},r.a.createElement(R,null)),r.a.createElement(i.a,{path:"".concat("/leedscarajo","/fixture")},r.a.createElement(q,null)),r.a.createElement(i.a,{path:"".concat("/leedscarajo","/bettings")},r.a.createElement(B,null)))},Z=a(130),ee=a(131),te=function(){return r.a.createElement(Z.a,{pad:"medium"},r.a.createElement(ee.a,{direction:"row"},r.a.createElement(l.b,{to:"".concat("/leedscarajo","/home")},"Home"),r.a.createElement(l.b,{to:"".concat("/leedscarajo","/positions")},"Positions"),r.a.createElement(l.b,{to:"".concat("/leedscarajo","/fixture")},"Fixture"),r.a.createElement(_.a,{onClick:y,label:"Refresh",size:"small"})))},ae=a(69),ne=a(70),re=a(71),ce=a(72),oe=function(e){Object(ce.a)(a,e);var t=Object(re.a)(a);function a(e){var n;return Object(ae.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(ne.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Oops!"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(r.a.Component);var le=function(){return r.a.createElement(oe,null,r.a.createElement("div",{className:"App"},r.a.createElement(u.RecoilRoot,null,r.a.createElement(l.a,null,r.a.createElement(te,null),r.a.createElement(Y,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){e.exports=a(116)},81:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.4b93984b.chunk.js.map